/*
 * -------------------------------------------------
 *  University of Hawaii at Manoa cluster config file
 * -------------------------------------------------
 * 
 */

executor{
   jobName = { "$task.tag" }
   queueSize = 20
}

params {
  referenceAln = "/home/developer/databases/silva.nr_v132.align"
  referenceTax = "/home/developer/databases/silva.full_v132.tax"  
}

env{
   PYTHONPATH="/home/developer/Pipeline-16S/scripts/:/home/developer/Pipeline-ITS/scripts/${PYTHONPATH}"
}

docker.enabled = true

process {
   executor = 'local'
   stageInMode = 'symlink'
   stageOutMode = 'rsync'

   withLabel: low_computation {
   	      cpus = 4
	      memory = 16.GB
	      time = '1h'
	      }

   withLabel: medium_computation {
   	      cpus = 10
	      memory = 32.GB
	      time = '3h'
	      }
   withLabel: high_computation {
   	      cpus = 19
	      memory = 120.GB
	      time = '1d'
   }	      
}	

process {
   withLabel: fastx_tk {
   	     container = 'alexcoppe/fastx'
   }

   withLabel: mothur_script {
   	      container = 'nakor/mothur_pipeline'
   }

   withLabel: r_script {
   	      container = 'nakor/r_libs_pipeline'
   }

   withLabel: python_script {
   	      container = 'nakor/python_libs_pipeline'
   }

   withName: vsearch {
   	      container = 'koash/vsearch'
   }

