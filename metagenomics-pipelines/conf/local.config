/*
 * -------------------------------------------------
 *  University of Hawaii at Manoa cluster config file
 * -------------------------------------------------
 *
 */

params {
  script_dir = "${PWD}/scripts"
}

env {
  PYTHONPATH = params.script_dir + ":${PYTHONPATH}"
  PATH = "${PATH}:${HOME}/.local/src/mothur_1-43"
}

executor{
  jobName = { "$task.tag" }
  queueSize = 20
}

tower {
  enabled = false
}

process {
    executor = 'local'
    errorStrategy = 'terminate'
    maxRetries = 2
    stageInMode = 'rellink'
    stageOutMode = 'move'

    withLabel: low_computation {
        cpus = 1
        memory = 4.GB
        time = '1h'
    }

    withLabel: medium_computation {
        cpus = 2
        memory = 16.GB
        time = '1d'
    }

    withLabel: high_computation {
        cpus = 20
        memory = 90.GB
        time = '3d'
    }
}

